                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Apr  4 2022) (Linux)
                              4 ; This file was generated Mon Apr  4 14:16:26 2022
                              5 ;--------------------------------------------------------
                              6 	.module _ulong2fs
                              7 	.optsdcc -mtlcs90
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___ulong2fs
                             13 ;--------------------------------------------------------
                             14 ; ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; ram data
                             19 ;--------------------------------------------------------
                             20 	.area _INITIALIZED
                             21 ;--------------------------------------------------------
                             22 ; absolute external ram data
                             23 ;--------------------------------------------------------
                             24 	.area _DABS (ABS)
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 ;../_ulong2fs.c:83: float __ulong2fs (unsigned long a )
                             37 ;	---------------------------------
                             38 ; Function __ulong2fs
                             39 ; ---------------------------------
   0000                      40 ___ulong2fs::
   0000 54            [ 4]   41 	push	ix
   0001 3C 00 00      [ 4]   42 	ld	ix,#0
   0004 FE 14         [ 7]   43 	add	ix,sp
   0006 16 F8 FF      [ 7]   44 	add	sp, #-8
                             45 ;../_ulong2fs.c:88: if (!a)
   0009 F0 07 2E      [11]   46 	ld	a,7 (ix)
   000C F0 06 66      [11]   47 	or	a, 6 (ix)
   000F F0 05 66      [11]   48 	or	a, 5 (ix)
   0012 F0 04 66      [11]   49 	or	a,4 (ix)
   0015 CE 0A         [ 7]   50 	jr	NZ,00115$
                             51 ;../_ulong2fs.c:90: return 0.0;
   0017 3A 00 00      [13]   52 	ld	hl,#0x0000
   001A FD 33                53 	ld	e,l
   001C FC 32         [17]   54 	ld	d,h
   001E 1ArE3r00      [ 7]   55 	jp	00111$
                             56 ;../_ulong2fs.c:93: while (a & NORM) 
   0021                      57 00115$:
   0021 3A 96 00      [13]   58 	ld	hl,#0x0096
   0024                      59 00103$:
   0024 F0 07 2E      [11]   60 	ld	a,7 (ix)
   0027 FE 66         [ 7]   61 	or	a, a
   0029 C6 11         [ 7]   62 	jr	Z,00117$
                             63 ;../_ulong2fs.c:96: a >>= 1;
   002B 56            [ 7]   64 	push	af
   002C 5E            [ 7]   65 	pop	af
   002D F0 07 A7      [11]   66 	srl	7 (ix)
   0030 F0 06 A3      [11]   67 	rr	6 (ix)
   0033 F0 05 A3      [11]   68 	rr	5 (ix)
   0036 F0 04 A3      [11]   69 	rr	4 (ix)
                             70 ;../_ulong2fs.c:97: exp++;
   0039 92            [ 4]   71 	inc	hl
   003A C8 E8         [11]   72 	jr	00103$
                             73 ;../_ulong2fs.c:100: while (a < HIDDEN)
   003C                      74 00117$:
   003C                      75 00106$:
   003C F0 06 2E      [11]   76 	ld	a,6 (ix)
   003F 6A 80         [ 4]   77 	sub	a, #0x80
   0041 F0 07 2E      [11]   78 	ld	a,7 (ix)
   0044 6B 00         [ 4]   79 	sbc	a, #0x00
   0046 CF 11         [11]   80 	jr	NC,00120$
                             81 ;../_ulong2fs.c:102: a <<= 1;
   0048 56            [ 7]   82 	push	af
   0049 5E            [ 7]   83 	pop	af
   004A F0 04 A4      [11]   84 	sla	4 (ix)
   004D F0 05 A2      [11]   85 	rl	5 (ix)
   0050 F0 06 A2      [11]   86 	rl	6 (ix)
   0053 F0 07 A2      [11]   87 	rl	7 (ix)
                             88 ;../_ulong2fs.c:103: exp--;
   0056 9A            [ 4]   89 	dec	hl
   0057 C8 E3         [11]   90 	jr	00106$
   0059                      91 00120$:
   0059 F6 06 42      [ 7]   92 	ld	6 (sp), hl
                             93 ;../_ulong2fs.c:107: if ((a&0x7fffff)==0x7fffff) {
   005C F0 04 2A      [11]   94 	ld	d,4 (ix)
   005F F0 05 2B      [11]   95 	ld	e,5 (ix)
   0062 F0 06 29      [11]   96 	ld	c,6 (ix)
   0065 F9 B7         [ 6]   97 	res	7, c
   0067 30 00         [12]   98 	ld	b,#0x00
   0069 82            [ 4]   99 	inc	d
   006A CE 1E         [ 7]  100 	jr	NZ,00110$
   006C 83            [ 4]  101 	inc	e
   006D CE 1B         [ 7]  102 	jr	NZ,00110$
   006F 21            [10]  103 	ld	a,c
   0070 6A 7F         [ 4]  104 	sub	a,#0x7F
   0072 CE 16         [ 7]  105 	jr	NZ,00110$
   0074 F8 66         [11]  106 	or	a,b
   0076 CE 12         [ 7]  107 	jr	NZ,00110$
                            108 ;../_ulong2fs.c:108: a=0;
   0078 FE 65         [ 7]  109 	xor	a, a
   007A F4 04 26      [17]  110 	ld	4 (ix),a
   007D F4 05 26      [17]  111 	ld	5 (ix),a
   0080 F4 06 26      [17]  112 	ld	6 (ix),a
   0083 F4 07 26      [17]  113 	ld	7 (ix),a
                            114 ;../_ulong2fs.c:109: exp++;
   0086 92            [ 4]  115 	inc	hl
   0087 F6 06 42      [ 7]  116 	ld	6 (sp), hl
   008A                     117 00110$:
                            118 ;../_ulong2fs.c:113: a &= ~HIDDEN ;
   008A F0 06 B7      [11]  119 	res	7, 6 (ix)
                            120 ;../_ulong2fs.c:115: fl.l = PACK(0,(unsigned long)exp, a);
   008D 3A 00 00      [13]  121 	ld	hl,#0x0000
   0090 FE 70         [ 7]  122 	add	hl,sp
   0092 F6 04 42      [ 7]  123 	ld	4 (sp), hl
   0095 F0 FE 2B      [11]  124 	ld	e,-2 (ix)
   0098 F0 FF 2A      [11]  125 	ld	d,-1 (ix)
   009B F0 FF 2E      [11]  126 	ld	a,-1 (ix)
   009E A2            [ 4]  127 	rla
   009F FE 63         [ 7]  128 	sbc	a, a
   00A1 2D            [ 4]  129 	ld	l,a
   00A2 2C            [ 4]  130 	ld	h,a
   00A3 30 17         [12]  131 	ld	b,#0x17
   00A5                     132 00146$:
   00A5 FB A4         [ 4]  133 	sla	e
   00A7 FA A2         [10]  134 	rl	d
   00A9 FA 71         [10]  135 	adc	hl, hl
   00AB 18 F8         [12]  136 	djnz	00146$
   00AD 23            [ 6]  137 	ld	a,e
   00AE F0 04 66      [11]  138 	or	a, 4 (ix)
   00B1 2B            [ 6]  139 	ld	e,a
   00B2 22            [16]  140 	ld	a,d
   00B3 F0 05 66      [11]  141 	or	a, 5 (ix)
   00B6 2A            [16]  142 	ld	d,a
   00B7 25            [ 4]  143 	ld	a,l
   00B8 F0 06 66      [11]  144 	or	a, 6 (ix)
   00BB 29            [11]  145 	ld	c,a
   00BC 24            [ 4]  146 	ld	a,h
   00BD F0 07 66      [11]  147 	or	a, 7 (ix)
   00C0 28            [12]  148 	ld	b,a
   00C1 F2 04 4A      [10]  149 	ld	hl, 4 (sp)
   00C4 EA 23         [10]  150 	ld	(hl),e
   00C6 92            [ 4]  151 	inc	hl
   00C7 EA 22         [10]  152 	ld	(hl),d
   00C9 92            [ 4]  153 	inc	hl
   00CA EA 21         [10]  154 	ld	(hl),c
   00CC 92            [ 4]  155 	inc	hl
   00CD EA 20         [10]  156 	ld	(hl),b
                            157 ;../_ulong2fs.c:117: return (fl.f);
   00CF 3A 00 00      [13]  158 	ld	hl,#0x0000
   00D2 FE 70         [ 7]  159 	add	hl,sp
   00D4 E2 28         [10]  160 	ld	b,(hl)
   00D6 92            [ 4]  161 	inc	hl
   00D7 E2 29         [10]  162 	ld	c,(hl)
   00D9 92            [ 4]  163 	inc	hl
   00DA E2 2B         [10]  164 	ld	e,(hl)
   00DC 92            [ 4]  165 	inc	hl
   00DD E2 2A         [10]  166 	ld	d,(hl)
   00DF F8 35         [11]  167 	ld	l,b
   00E1 F9 34         [ 6]  168 	ld	h,c
   00E3                     169 00111$:
   00E3 FC 3E         [17]  170 	ld	sp, ix
   00E5 5C            [ 4]  171 	pop	ix
   00E6 1E            [ 7]  172 	ret
                            173 	.area _HOME
                            174 ;--------------------------------------------------------
                            175 ; code
                            176 ;--------------------------------------------------------
                            177 	.area _CODE
                            178 	.area _CODE
                            179 	.area _INITIALIZER
                            180 	.area _CABS (ABS)
