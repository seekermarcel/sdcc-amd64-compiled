                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Apr  4 2022) (Linux)
                              4 ; This file was generated Mon Apr  4 14:15:18 2022
                              5 ;--------------------------------------------------------
                              6 	.module _fs2ulong
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___fs2ulong
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ; ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; ram data
                             22 ;--------------------------------------------------------
                             23 	.area _INITIALIZED
                             24 ;--------------------------------------------------------
                             25 ; absolute external ram data
                             26 ;--------------------------------------------------------
                             27 	.area _DABS (ABS)
                             28 ;--------------------------------------------------------
                             29 ; global & static initialisations
                             30 ;--------------------------------------------------------
                             31 	.area _HOME
                             32 	.area _GSINIT
                             33 	.area _GSFINAL
                             34 	.area _GSINIT
                             35 ;--------------------------------------------------------
                             36 ; Home
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 ;../_fs2ulong.c:103: __fs2ulong (float a1)
                             40 ;	---------------------------------
                             41 ; Function __fs2ulong
                             42 ; ---------------------------------
   0000                      43 ___fs2ulong::
   0000 DD E5         [15]   44 	push	ix
   0002 DD 21 00 00   [14]   45 	ld	ix,#0
   0006 DD 39         [15]   46 	add	ix,sp
   0008 21 F6 FF      [10]   47 	ld	hl,#-10
   000B 39            [11]   48 	add	hl,sp
   000C F9            [ 6]   49 	ld	sp,hl
                             50 ;../_fs2ulong.c:109: fl1.f = a1;
   000D 21 06 00      [10]   51 	ld	hl,#0x0006
   0010 39            [11]   52 	add	hl,sp
   0011 EB            [ 4]   53 	ex	de,hl
   0012 21 0E 00      [10]   54 	ld	hl, #0x000E
   0015 39            [11]   55 	add	hl, sp
   0016 01 04 00      [10]   56 	ld	bc, #0x0004
   0019 ED B0         [21]   57 	ldir
                             58 ;../_fs2ulong.c:111: if (!fl1.l || SIGN(fl1.l))
   001B 21 06 00      [10]   59 	ld	hl,#0x0006
   001E 39            [11]   60 	add	hl,sp
   001F 5E            [ 7]   61 	ld	e,(hl)
   0020 23            [ 6]   62 	inc	hl
   0021 56            [ 7]   63 	ld	d,(hl)
   0022 23            [ 6]   64 	inc	hl
   0023 4E            [ 7]   65 	ld	c,(hl)
   0024 23            [ 6]   66 	inc	hl
   0025 7E            [ 7]   67 	ld	a, (hl)
   0026 B1            [ 4]   68 	or	a, c
   0027 B2            [ 4]   69 	or	a, d
   0028 B3            [ 4]   70 	or	a,e
   0029 28 11         [12]   71 	jr	Z,00101$
   002B 21 06 00      [10]   72 	ld	hl,#0x0006
   002E 39            [11]   73 	add	hl,sp
   002F 5E            [ 7]   74 	ld	e,(hl)
   0030 23            [ 6]   75 	inc	hl
   0031 56            [ 7]   76 	ld	d,(hl)
   0032 23            [ 6]   77 	inc	hl
   0033 4E            [ 7]   78 	ld	c,(hl)
   0034 23            [ 6]   79 	inc	hl
   0035 7E            [ 7]   80 	ld	a, (hl)
   0036 CB 07         [ 8]   81 	rlc	a
   0038 E6 01         [ 7]   82 	and	a,#0x01
   003A 28 08         [12]   83 	jr	Z,00102$
   003C                      84 00101$:
                             85 ;../_fs2ulong.c:112: return (0);
   003C 21 00 00      [10]   86 	ld	hl,#0x0000
   003F 5D            [ 4]   87 	ld	e,l
   0040 54            [ 4]   88 	ld	d,h
   0041 C3rC0r00      [10]   89 	jp	00104$
   0044                      90 00102$:
                             91 ;../_fs2ulong.c:114: exp = EXP (fl1.l) - EXCESS - 24;
   0044 21 06 00      [10]   92 	ld	hl,#0x0006
   0047 39            [11]   93 	add	hl,sp
   0048 5E            [ 7]   94 	ld	e,(hl)
   0049 23            [ 6]   95 	inc	hl
   004A 56            [ 7]   96 	ld	d,(hl)
   004B 23            [ 6]   97 	inc	hl
   004C 4E            [ 7]   98 	ld	c,(hl)
   004D 23            [ 6]   99 	inc	hl
   004E 46            [ 7]  100 	ld	b,(hl)
   004F 3E 17         [ 7]  101 	ld	a,#0x17
   0051                     102 00110$:
   0051 CB 38         [ 8]  103 	srl	b
   0053 CB 19         [ 8]  104 	rr	c
   0055 CB 1A         [ 8]  105 	rr	d
   0057 CB 1B         [ 8]  106 	rr	e
   0059 3D            [ 4]  107 	dec	a
   005A 20 F5         [12]  108 	jr	NZ,00110$
   005C 16 00         [ 7]  109 	ld	d,#0x00
   005E 01 00 00      [10]  110 	ld	bc,#0x0000
   0061 7B            [ 4]  111 	ld	a,e
   0062 C6 6A         [ 7]  112 	add	a,#0x6A
   0064 6F            [ 4]  113 	ld	l,a
   0065 7A            [ 4]  114 	ld	a,d
   0066 CE FF         [ 7]  115 	adc	a,#0xFF
   0068 67            [ 4]  116 	ld	h,a
   0069 79            [ 4]  117 	ld	a,c
   006A CE FF         [ 7]  118 	adc	a,#0xFF
   006C 78            [ 4]  119 	ld	a,b
   006D CE FF         [ 7]  120 	adc	a,#0xFF
   006F DD 75 FA      [19]  121 	ld	-6 (ix),l
   0072 DD 74 FB      [19]  122 	ld	-5 (ix),h
                            123 ;../_fs2ulong.c:115: l = MANT (fl1.l);
   0075 21 06 00      [10]  124 	ld	hl,#0x0006
   0078 39            [11]  125 	add	hl,sp
   0079 5E            [ 7]  126 	ld	e,(hl)
   007A 23            [ 6]  127 	inc	hl
   007B 56            [ 7]  128 	ld	d,(hl)
   007C 23            [ 6]  129 	inc	hl
   007D 4E            [ 7]  130 	ld	c,(hl)
   007E 23            [ 6]  131 	inc	hl
   007F 46            [ 7]  132 	ld	b,(hl)
   0080 CB B9         [ 8]  133 	res	7, c
   0082 06 00         [ 7]  134 	ld	b,#0x00
   0084 DD 73 F6      [19]  135 	ld	-10 (ix),e
   0087 DD 72 F7      [19]  136 	ld	-9 (ix),d
   008A 79            [ 4]  137 	ld	a,c
   008B CB FF         [ 8]  138 	set	7, a
   008D DD 77 F8      [19]  139 	ld	-8 (ix),a
   0090 DD 70 F9      [19]  140 	ld	-7 (ix),b
                            141 ;../_fs2ulong.c:117: l >>= -exp;
   0093 AF            [ 4]  142 	xor	a, a
   0094 DD 96 FA      [19]  143 	sub	a, -6 (ix)
   0097 47            [ 4]  144 	ld	b,a
   0098 3E 00         [ 7]  145 	ld	a, #0x00
   009A DD 9E FB      [19]  146 	sbc	a, -5 (ix)
   009D F5            [11]  147 	push	af
   009E F1            [10]  148 	pop	af
   009F 04            [ 4]  149 	inc	b
   00A0 18 10         [12]  150 	jr	00113$
   00A2                     151 00112$:
   00A2 DD CB F9 2E   [23]  152 	sra	-7 (ix)
   00A6 DD CB F8 1E   [23]  153 	rr	-8 (ix)
   00AA DD CB F7 1E   [23]  154 	rr	-9 (ix)
   00AE DD CB F6 1E   [23]  155 	rr	-10 (ix)
   00B2                     156 00113$:
   00B2 10 EE         [13]  157 	djnz	00112$
                            158 ;../_fs2ulong.c:119: return l;
   00B4 DD 6E F6      [19]  159 	ld	l,-10 (ix)
   00B7 DD 66 F7      [19]  160 	ld	h,-9 (ix)
   00BA DD 5E F8      [19]  161 	ld	e,-8 (ix)
   00BD DD 56 F9      [19]  162 	ld	d,-7 (ix)
   00C0                     163 00104$:
   00C0 DD F9         [10]  164 	ld	sp, ix
   00C2 DD E1         [14]  165 	pop	ix
   00C4 C9            [10]  166 	ret
                            167 	.area _HOME
                            168 ;--------------------------------------------------------
                            169 ; code
                            170 ;--------------------------------------------------------
                            171 	.area _CODE
                            172 	.area _CODE
                            173 	.area _INITIALIZER
                            174 	.area _CABS (ABS)
