                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Apr  4 2022) (Linux)
                              4 ; This file was generated Mon Apr  4 14:16:36 2022
                              5 ;--------------------------------------------------------
                              6 	.module _strncpy
                              7 	.optsdcc -mtlcs90
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strncpy
                             13 ;--------------------------------------------------------
                             14 ; ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; ram data
                             19 ;--------------------------------------------------------
                             20 	.area _INITIALIZED
                             21 ;--------------------------------------------------------
                             22 ; absolute external ram data
                             23 ;--------------------------------------------------------
                             24 	.area _DABS (ABS)
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 	.area _HOME
                             37 ;--------------------------------------------------------
                             38 ; code
                             39 ;--------------------------------------------------------
                             40 	.area _CODE
                             41 ;../_strncpy.c:33: char *strncpy ( char * d, const char * s, size_t n )
                             42 ;	---------------------------------
                             43 ; Function strncpy
                             44 ; ---------------------------------
   0000                      45 _strncpy::
   0000 54            [ 4]   46 	push	ix
   0001 3C 00 00      [ 4]   47 	ld	ix,#0
   0004 FE 14         [ 7]   48 	add	ix,sp
   0006 16 FE FF      [ 7]   49 	add	sp, #-2
                             50 ;../_strncpy.c:35: register char * d1 =  d;
   0009 F0 04 2E      [11]   51 	ld	a,4 (ix)
   000C F4 FE 26      [17]   52 	ld	-2 (ix),a
   000F F0 05 2E      [11]   53 	ld	a,5 (ix)
   0012 F4 FF 26      [17]   54 	ld	-1 (ix),a
                             55 ;../_strncpy.c:37: while ( n && *s )
   0015 08            [ 4]   56 	ex	de, hl
   0016 F2 0A 4A      [10]   57 	ld	hl, 10 (sp)
   0019 08            [ 4]   58 	ex	de, hl
   001A F2 08 4D      [10]   59 	ld	iy, 8 (sp)
   001D 58            [ 4]   60 	pop	bc
   001E 50            [ 4]   61 	push	bc
   001F                      62 00102$:
   001F 22            [16]   63 	ld	a,d
   0020 FB 66         [ 4]   64 	or	a,e
   0022 C6 0F         [ 7]   65 	jr	Z,00114$
   0024 E5 2C         [11]   66 	ld	h, 0 (iy)
   0026 24            [ 4]   67 	ld	a,h
   0027 FE 66         [ 7]   68 	or	a, a
   0029 C6 08         [ 7]   69 	jr	Z,00114$
                             70 ;../_strncpy.c:39: n-- ;
   002B 99            [ 4]   71 	dec	de
                             72 ;../_strncpy.c:40: *d++ = *s++ ;
   002C 24            [ 4]   73 	ld	a,h
   002D 95            [ 4]   74 	inc	iy
   002E E8 26         [11]   75 	ld	(bc),a
   0030 90            [ 4]   76 	inc	bc
   0031 C8 EC         [11]   77 	jr	00102$
                             78 ;../_strncpy.c:42: while ( n-- )
   0033                      79 00114$:
   0033                      80 00105$:
   0033 FB 34         [ 4]   81 	ld	h,e
   0035 FA 35         [10]   82 	ld	l,d
   0037 99            [ 4]   83 	dec	de
   0038 25            [ 4]   84 	ld	a,l
   0039 FC 66         [17]   85 	or	a,h
   003B C6 07         [ 7]   86 	jr	Z,00107$
                             87 ;../_strncpy.c:44: *d++ = '\0' ;
   003D FE 65         [ 7]   88 	xor	a, a
   003F E8 26         [11]   89 	ld	(bc),a
   0041 90            [ 4]   90 	inc	bc
   0042 C8 EF         [11]   91 	jr	00105$
   0044                      92 00107$:
                             93 ;../_strncpy.c:46: return d1;
   0044 5A            [ 4]   94 	pop	hl
   0045 52            [ 4]   95 	push	hl
   0046 FC 3E         [17]   96 	ld	sp, ix
   0048 5C            [ 4]   97 	pop	ix
   0049 1E            [ 7]   98 	ret
                             99 	.area _CODE
                            100 	.area _INITIALIZER
                            101 	.area _CABS (ABS)
