                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Apr  4 2022) (Linux)
                              4 ; This file was generated Mon Apr  4 14:16:37 2022
                              5 ;--------------------------------------------------------
                              6 	.module _memchr
                              7 	.optsdcc -mtlcs90
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memchr
                             13 ;--------------------------------------------------------
                             14 ; ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; ram data
                             19 ;--------------------------------------------------------
                             20 	.area _INITIALIZED
                             21 ;--------------------------------------------------------
                             22 ; absolute external ram data
                             23 ;--------------------------------------------------------
                             24 	.area _DABS (ABS)
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 	.area _HOME
                             37 ;--------------------------------------------------------
                             38 ; code
                             39 ;--------------------------------------------------------
                             40 	.area _CODE
                             41 ;../_memchr.c:31: void *memchr(const void *s, int c, size_t n)
                             42 ;	---------------------------------
                             43 ; Function memchr
                             44 ; ---------------------------------
   0000                      45 _memchr::
   0000 54            [ 4]   46 	push	ix
   0001 3C 00 00      [ 4]   47 	ld	ix,#0
   0004 FE 14         [ 7]   48 	add	ix,sp
   0006 16 FC FF      [ 7]   49 	add	sp, #-4
                             50 ;../_memchr.c:33: unsigned char *p = (unsigned char *)s;
   0009 08            [ 4]   51 	ex	de, hl
   000A F2 08 4A      [10]   52 	ld	hl, 8 (sp)
   000D 08            [ 4]   53 	ex	de, hl
                             54 ;../_memchr.c:34: unsigned char *end = p + n;
   000E F2 0C 4A      [10]   55 	ld	hl, 12 (sp)
   0011 F9 70         [ 6]   56 	add	hl,de
   0013 EE 42         [ 7]   57 	ld	0 (sp), hl
                             58 ;../_memchr.c:38: return(0);
   0015 F4 FE 23      [17]   59 	ld	-2 (ix),e
   0018 F4 FF 22      [17]   60 	ld	-1 (ix),d
   001B                      61 00105$:
                             62 ;../_memchr.c:35: for(; p != end; p++)
   001B F0 FC 2E      [11]   63 	ld	a,-4 (ix)
   001E F0 FE 62      [11]   64 	sub	a, -2 (ix)
   0021 CE 08         [ 7]   65 	jr	NZ,00121$
   0023 F0 FD 2E      [11]   66 	ld	a,-3 (ix)
   0026 F0 FF 62      [11]   67 	sub	a, -1 (ix)
   0029 C6 27         [ 7]   68 	jr	Z,00103$
   002B                      69 00121$:
                             70 ;../_memchr.c:36: if(*p == c)
   002B F2 02 4A      [10]   71 	ld	hl, 2 (sp)
   002E E2 28         [10]   72 	ld	b,(hl)
   0030 31 00         [10]   73 	ld	c,#0x00
   0032 F0 06 2E      [11]   74 	ld	a,6 (ix)
   0035 F8 62         [11]   75 	sub	a, b
   0037 CE 0A         [ 7]   76 	jr	NZ,00106$
   0039 F0 07 2E      [11]   77 	ld	a,7 (ix)
   003C F9 62         [ 6]   78 	sub	a, c
   003E CE 03         [ 7]   79 	jr	NZ,00106$
                             80 ;../_memchr.c:37: return((void *)p);
   0040 08            [ 4]   81 	ex	de,hl
   0041 C8 12         [11]   82 	jr	00107$
   0043                      83 00106$:
                             84 ;../_memchr.c:35: for(; p != end; p++)
   0043 F0 FE 87      [11]   85 	inc	-2 (ix)
   0046 CE 03         [ 7]   86 	jr	NZ,00124$
   0048 F0 FF 87      [11]   87 	inc	-1 (ix)
   004B                      88 00124$:
   004B 58            [ 4]   89 	pop	bc
   004C 59            [ 4]   90 	pop	de
   004D 51            [ 4]   91 	push	de
   004E 50            [ 4]   92 	push	bc
   004F 1Ar1Br00      [ 7]   93 	jp	00105$
   0052                      94 00103$:
                             95 ;../_memchr.c:38: return(0);
   0052 3A 00 00      [13]   96 	ld	hl,#0x0000
   0055                      97 00107$:
   0055 FC 3E         [17]   98 	ld	sp, ix
   0057 5C            [ 4]   99 	pop	ix
   0058 1E            [ 7]  100 	ret
                            101 	.area _CODE
                            102 	.area _INITIALIZER
                            103 	.area _CABS (ABS)
