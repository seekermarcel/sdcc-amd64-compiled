                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Apr  4 2022) (Linux)
                              4 ; This file was generated Mon Apr  4 14:16:26 2022
                              5 ;--------------------------------------------------------
                              6 	.module _fs2schar
                              7 	.optsdcc -mtlcs90
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___fs2slong
                             13 	.globl ___fs2schar
                             14 ;--------------------------------------------------------
                             15 ; ram data
                             16 ;--------------------------------------------------------
                             17 	.area _DATA
                             18 ;--------------------------------------------------------
                             19 ; ram data
                             20 ;--------------------------------------------------------
                             21 	.area _INITIALIZED
                             22 ;--------------------------------------------------------
                             23 ; absolute external ram data
                             24 ;--------------------------------------------------------
                             25 	.area _DABS (ABS)
                             26 ;--------------------------------------------------------
                             27 ; global & static initialisations
                             28 ;--------------------------------------------------------
                             29 	.area _HOME
                             30 	.area _GSINIT
                             31 	.area _GSFINAL
                             32 	.area _GSINIT
                             33 ;--------------------------------------------------------
                             34 ; Home
                             35 ;--------------------------------------------------------
                             36 	.area _HOME
                             37 ;../_fs2schar.c:87: signed char __fs2schar (float f)
                             38 ;	---------------------------------
                             39 ; Function __fs2schar
                             40 ; ---------------------------------
   0000                      41 ___fs2schar::
   0000 54            [ 4]   42 	push	ix
   0001 3C 00 00      [ 4]   43 	ld	ix,#0
   0004 FE 14         [ 7]   44 	add	ix,sp
                             45 ;../_fs2schar.c:89: signed long sl=__fs2slong(f);
   0006 F2 06 4A      [10]   46 	ld	hl, 6 (sp)
   0009 52            [ 4]   47 	push	hl
   000A F2 06 4A      [10]   48 	ld	hl, 6 (sp)
   000D 52            [ 4]   49 	push	hl
   000E 1Cr00r00      [ 4]   50 	call	___fs2slong
   0011 16 04 00      [ 7]   51 	add	sp, #4
   0014 FD 31                52 	ld	c,l
   0016 FC 30         [17]   53 	ld	b,h
                             54 ;../_fs2schar.c:90: if (sl>=SCHAR_MAX)
   0018 21            [10]   55 	ld	a,c
   0019 6A 7F         [ 4]   56 	sub	a, #0x7F
   001B 20            [12]   57 	ld	a,b
   001C 6B 00         [ 4]   58 	sbc	a, #0x00
   001E 23            [ 6]   59 	ld	a,e
   001F 6B 00         [ 4]   60 	sbc	a, #0x00
   0021 22            [16]   61 	ld	a,d
   0022 A2            [ 4]   62 	rla
   0023 0E            [ 7]   63 	ccf
   0024 A3            [ 4]   64 	rra
   0025 6B 80         [ 4]   65 	sbc	a, #0x80
   0027 C7 04         [11]   66 	jr	C,00102$
                             67 ;../_fs2schar.c:91: return SCHAR_MAX;
   0029 35 7F         [11]   68 	ld	l,#0x7F
   002B C8 20         [11]   69 	jr	00105$
   002D                      70 00102$:
                             71 ;../_fs2schar.c:92: if (sl<=SCHAR_MIN)
   002D 36 80         [10]   72 	ld	a,#0x80
   002F F9 67         [ 6]   73 	cp	a, c
   0031 36 FF         [10]   74 	ld	a,#0xFF
   0033 F8 63         [11]   75 	sbc	a, b
   0035 36 FF         [10]   76 	ld	a,#0xFF
   0037 FB 63         [ 4]   77 	sbc	a, e
   0039 36 FF         [10]   78 	ld	a,#0xFF
   003B FA 63         [10]   79 	sbc	a, d
   003D EBr43r00 CC   [ 4]   80 	jp	PO, 00115$
   0041 6D 80         [ 4]   81 	xor	a, #0x80
   0043                      82 00115$:
   0043 EBr4Br00 C5   [ 4]   83 	jp	M,00104$
                             84 ;../_fs2schar.c:93: return -SCHAR_MIN;
   0047 35 80         [11]   85 	ld	l,#0x80
   0049 C8 02         [11]   86 	jr	00105$
   004B                      87 00104$:
                             88 ;../_fs2schar.c:94: return sl;
   004B F9 35         [ 6]   89 	ld	l,c
   004D                      90 00105$:
   004D 5C            [ 4]   91 	pop	ix
   004E 1E            [ 7]   92 	ret
                             93 	.area _HOME
                             94 ;--------------------------------------------------------
                             95 ; code
                             96 ;--------------------------------------------------------
                             97 	.area _CODE
                             98 	.area _CODE
                             99 	.area _INITIALIZER
                            100 	.area _CABS (ABS)
